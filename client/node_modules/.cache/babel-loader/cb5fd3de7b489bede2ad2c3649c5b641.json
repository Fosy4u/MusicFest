{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FosterOgwudu\\\\Desktop\\\\MyProjects\\\\MusicFest\\\\client\\\\src\\\\components\\\\Player.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef, usePrevious } from 'react';\nimport SpotifyPlayer from 'react-spotify-web-playback';\nimport { useStateValue } from '../utilities/StateProvider';\nimport './Player.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Player() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [{\n    user,\n    token,\n    playlists,\n    active_playlist,\n    track,\n    play\n  }, dispatch] = useStateValue();\n  const prev__track = usePrevious(track);\n  useEffect(() => {\n    if (play) {\n      if (prev__track != track) {\n        const lyrics = axios.get('http://localhost:3001/lyrics', {\n          params: {\n            track: track.name,\n            artist: track.artists[0].name\n          }\n        }).then(res => {\n          dispatch({\n            type: 'SET_PLAY',\n            payload: res.data\n          });\n        });\n      }\n    }\n  }, [play, track]);\n\n  function usePrevious(value) {\n    _s();\n\n    const ref = useRef();\n    useEffect(() => {\n      ref.current = value;\n    }, []);\n    return ref.current;\n  }\n\n  _s(usePrevious, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n\n  function stop__play() {\n    dispatch({\n      type: 'SET_PLAY',\n      payload: false\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"footer\",\n    children: /*#__PURE__*/_jsxDEV(SpotifyPlayer, {\n      token: token ? token : null,\n      showSaveIcon: true,\n      callback: state => {\n        if (!state.isPlaying) stop__play();\n      },\n      play: play ? play : null,\n      uris: track ? [track.uri] : [],\n      name: \"MusicFest\",\n      autoPlay: true,\n      persistDeviceSelection: true,\n      magnifySliderOnHover: true,\n      styles: {\n        activeColor: '#fff',\n        bgColor: '#333',\n        color: '#42f575',\n        loaderColor: '#fff',\n        sliderColor: '#1cb954',\n        trackArtistColor: '#ccc',\n        trackNameColor: '#fff'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 1\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(Player, \"1cVmNdLiVm5qZYhcfpGSDnlFsIw=\", false, function () {\n  return [useStateValue, usePrevious];\n});\n\n_c = Player;\n\nvar _c;\n\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"sources":["C:/Users/FosterOgwudu/Desktop/MyProjects/MusicFest/client/src/components/Player.js"],"names":["React","useState","useEffect","useRef","usePrevious","SpotifyPlayer","useStateValue","axios","Player","user","token","playlists","active_playlist","track","play","dispatch","prev__track","lyrics","get","params","name","artist","artists","then","res","type","payload","data","value","ref","current","stop__play","state","isPlaying","uri","activeColor","bgColor","color","loaderColor","sliderColor","trackArtistColor","trackNameColor"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAwBC,SAAxB,EAAmCC,MAAnC,EAA2CC,WAA3C,QAA6D,OAA7D;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,SAASC,aAAT,QAA8B,4BAA9B;AACA,OAAO,cAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,eAAe,SAASC,MAAT,GAAkB;AAAA;;AAAA;;AAC7B,QAAM,CAAC;AAACC,IAAAA,IAAD;AAAMC,IAAAA,KAAN;AAAaC,IAAAA,SAAb;AAAwBC,IAAAA,eAAxB;AAAyCC,IAAAA,KAAzC;AAAgDC,IAAAA;AAAhD,GAAD,EAAwDC,QAAxD,IAAoET,aAAa,EAAvF;AACA,QAAMU,WAAW,GAAGZ,WAAW,CAACS,KAAD,CAA/B;AACJX,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGY,IAAH,EAAQ;AAEJ,UAAGE,WAAW,IAAIH,KAAlB,EAAwB;AAEpB,cAAMI,MAAM,GAAGV,KAAK,CAACW,GAAN,CAAU,8BAAV,EAA0C;AACrDC,UAAAA,MAAM,EAAC;AACHN,YAAAA,KAAK,EAAEA,KAAK,CAACO,IADV;AAEHC,YAAAA,MAAM,EAAER,KAAK,CAACS,OAAN,CAAc,CAAd,EAAiBF;AAFtB;AAD8C,SAA1C,EAKZG,IALY,CAKPC,GAAG,IAAG;AACVT,UAAAA,QAAQ,CAAC;AACLU,YAAAA,IAAI,EAAG,UADF;AAELC,YAAAA,OAAO,EAAEF,GAAG,CAACG;AAFR,WAAD,CAAR;AAKH,SAXc,CAAf;AAYH;AAEJ;AACJ,GApBQ,EAoBN,CAACb,IAAD,EAAMD,KAAN,CApBM,CAAT;;AAsBA,WAAST,WAAT,CAAsBwB,KAAtB,EAA6B;AAAA;;AACzB,UAAMC,GAAG,GAAG1B,MAAM,EAAlB;AACAD,IAAAA,SAAS,CAAC,MAAM;AACd2B,MAAAA,GAAG,CAACC,OAAJ,GAAcF,KAAd;AACD,KAFQ,EAEN,EAFM,CAAT;AAGA,WAAOC,GAAG,CAACC,OAAX;AACH;;AA/BgC,KAyBxB1B,WAzBwB;;AAiC7B,WAAS2B,UAAT,GAAqB;AACjBhB,IAAAA,QAAQ,CAAC;AACLU,MAAAA,IAAI,EAAG,UADF;AAELC,MAAAA,OAAO,EAAE;AAFJ,KAAD,CAAR;AAKH;;AACD,sBACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA,2BACR,QAAC,aAAD;AACQ,MAAA,KAAK,EAAIhB,KAAK,GAAEA,KAAF,GAAQ,IAD9B;AAEQ,MAAA,YAAY,MAFpB;AAGQ,MAAA,QAAQ,EAAEsB,KAAK,IAAG;AAAC,YAAG,CAACA,KAAK,CAACC,SAAV,EAAoBF,UAAU;AAAG,OAH5D;AAIQ,MAAA,IAAI,EAAEjB,IAAI,GAACA,IAAD,GAAM,IAJxB;AAKQ,MAAA,IAAI,EAAED,KAAK,GAAC,CAACA,KAAK,CAACqB,GAAP,CAAD,GAAa,EALhC;AAMQ,MAAA,IAAI,EAAC,WANb;AAOQ,MAAA,QAAQ,EAAE,IAPlB;AAQQ,MAAA,sBAAsB,EAAG,IARjC;AASQ,MAAA,oBAAoB,EAAE,IAT9B;AAUQ,MAAA,MAAM,EAAE;AACJC,QAAAA,WAAW,EAAE,MADT;AAEJC,QAAAA,OAAO,EAAE,MAFL;AAGJC,QAAAA,KAAK,EAAE,SAHH;AAIJC,QAAAA,WAAW,EAAE,MAJT;AAKJC,QAAAA,WAAW,EAAE,SALT;AAMJC,QAAAA,gBAAgB,EAAE,MANd;AAOJC,QAAAA,cAAc,EAAE;AAPZ;AAVhB;AAAA;AAAA;AAAA;AAAA;AADQ;AAAA;AAAA;AAAA;AAAA,UADJ;AA0BH;;IAlEuBjC,M;UACsDF,a,EACtDF,W;;;KAFAI,M","sourcesContent":["import React,{useState, useEffect, useRef, usePrevious} from 'react';\r\nimport SpotifyPlayer from 'react-spotify-web-playback';\r\nimport { useStateValue } from '../utilities/StateProvider';\r\nimport './Player.css';\r\nimport axios from 'axios';\r\n\r\nexport default function Player() {\r\n    const [{user,token, playlists, active_playlist, track, play}, dispatch] = useStateValue();\r\n    const prev__track = usePrevious(track)\r\nuseEffect(() => {\r\n    if(play){\r\n        \r\n        if(prev__track != track){\r\n         \r\n            const lyrics = axios.get('http://localhost:3001/lyrics', {\r\n                params:{\r\n                    track: track.name,\r\n                    artist: track.artists[0].name\r\n                }\r\n            }).then(res =>{\r\n                dispatch({\r\n                    type : 'SET_PLAY',\r\n                    payload: res.data\r\n                \r\n                  })\r\n            })\r\n        }\r\n        \r\n    }\r\n}, [play,track])\r\n\r\nfunction usePrevious (value) {\r\n    const ref = useRef();\r\n    useEffect(() => {\r\n      ref.current = value;\r\n    }, []);\r\n    return ref.current\r\n}\r\n  \r\n    function stop__play(){\r\n        dispatch({\r\n            type : 'SET_PLAY',\r\n            payload: false\r\n        \r\n          })\r\n    }\r\n    return (\r\n        <div className='footer'>\r\n<SpotifyPlayer \r\n        token = {token? token:null}\r\n        showSaveIcon\r\n        callback={state =>{if(!state.isPlaying)stop__play()}}\r\n        play={play?play:null}\r\n        uris={track?[track.uri]:[]}\r\n        name='MusicFest'\r\n        autoPlay={true}\r\n        persistDeviceSelection= {true}\r\n        magnifySliderOnHover={true}\r\n        styles={{\r\n            activeColor: '#fff',\r\n            bgColor: '#333',\r\n            color: '#42f575',\r\n            loaderColor: '#fff',\r\n            sliderColor: '#1cb954',\r\n            trackArtistColor: '#ccc',\r\n            trackNameColor: '#fff',\r\n          }}\r\n       \r\n        />\r\n        </div>\r\n        \r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}